# Publicatie nieuwe versie 


## Publicatieplatform

Eerst wordt een test-release gedaan, die alleen de product manager kan inzien en controleren. Vervolgens wordt de concept-release gedaan, voor tests en openbare consultatie.

<figure>
<img src="./h/media/voorbeeld-invullen-publicatie.png" alt="invulvelden in de LACES Publicatieomgeving">
<figcaption>invulvelden in de LACES Publicatieomgeving</caption>
</figure>

Invullen release:
* Publication name volgt de versie van het informatiemodel
* Description, korte omschrijving release 
* Abstract, iets uitgebreidere omschrijving
* Owner of Publication: CROW
* Publisher, de naam van de beheerder van de database die op dat moment de publicatie doet
* Contributor, eventueel naam van co-autheur van versiewijziging
* Filter on status object aan zetten, alleen de concept waarden worden gepubliceerd (alles is concept in de database, of vervallen).
* Location information, selecteer de test, acceptance of live omgfeving 
* Geen extra delen aan de URL toevoegen
* Zet use version control aan
* Geef met custom de naam van de versie op
* Vinkje aan van add version info in publication content
* Customize content: voor elke versie moet een eigen stylesheet gemaakt worden, zowel voor concept als definitief, zodat de juiste linkjes naar de arceringen en symbolen in de publicatie komen. De stylesheet wordt beheerd door Semmtech.
* Namespace URI: 

### Controleren test-release
Voor het publiceren van een concept of een definitieve versie wordt de release als test gepubliceerd en gecontroleerd. 

Controles IMV Kern:

- [ ] Controleer of elke verkeersmaatregel minimaal één aspect heeft
- [ ] Controleer of alles een engelse en nederlandse tem en definitie heeft
- [ ] Controleer of er geen dezelfde namen voorkomen. Omdat de URI's semni-human readable zijn en unieke namen menselijke vergissingen voorkomen. 


Controles Standaard Verkeersborden:
- [ ] Zorg dat een icoon die aangeduid wordt als "same-as" geen positienummer van het icoon heeft, er is altijd een onderliggend icoon nodig om een standaard bord samen te stellen, zodat een icoon uit het informatiemodel niet per ongeluk een verplichte plek op een bord krijgt.

### Stylesheet
In de stylesheet zijn de volgende zaken geregeld:
* Afbeeldingen van verkeersborden van het NDW met een MIT licentie worden herkend en krijgen de juiste licentie toegewezen.

## GitHub releases

### Branch- en releasebeleid
We beheren en publiceren versies met drie vaste branches:

1. main – definitieve (productie)releases.

2. acceptance – acceptatieversies voor openbare consultaties en testen in software.

3. development – doorontwikkeling (dagelijks werk, features).


#### development

Startpunt voor alle feature-branches: feature/<korte-naam>.

Regel: ontwikkel en review via Pull Requests (PR’s). Squash-merge features terug naar development.

#### acceptance

Ontstaat door merge van development → acceptance wanneer we “code freeze” voor de volgende versie willen.

Alleen bugfixes en tekstafspraken voor de consultatie/performance-tests.

#### main

Ontstaat door merge van acceptance → main nadat de acceptatie is goedgekeurd.

Bevat uitsluitend stabiele, gepubliceerde releases.

### Versietags (naming)

1. Productie (main): SemVer vMAJOR.MINOR.PATCH (bijv. v1.3.0).

2. Acceptatie: vMAJOR.MINOR.PATCH-acc.N (bijv. v1.3.0-acc.1, v1.3.0-acc.2).

3. Gebruik altijd een tag bij een release zodat de versie exact herleidbaar is.

Releaseproces (samengevat)

<ol><li>Voorbereiden

<ul><li>Features afronden in development.

<li>PR’s reviewen, CI groen.
</ul>
<li>Acceptatieversie

<ul><li>development → acceptance (merge).

<li>Tag: vX.Y.Z-acc.1 (en eventueel -acc.2, … bij extra correcties).

<li>Publiceer naar de acceptatieomgeving (zie CI/CD).
</ul>

<li>Definitieve release

<ul><li>Na goedgekeurde acceptatie: acceptance → main (merge).

<li>Tag: vX.Y.Z.

<li>Publiceer naar productieomgeving (zie CI/CD).
</ul>

<li>Na release

<ul><li>Back-merge fixes van main terug naar acceptance en development (repository blijft in sync).
</ul></ol>


### Hotfixes

Kritieke bug in productie?

* Branch: hotfix/vX.Y.Z+1 vanaf main.

* Fix → PR → merge naar main → tag vX.Y.(Z+1) → publiceer.

* Altijd terug mergen naar acceptance en development.

Publicatiebeleid (ReSpec & sites)

Alleen releases publiceren; geen automatische publicatie bij gewone commits.

Acceptatiepublicatie: bij tags met -acc. op acceptance.

Productiepublicatie: bij SemVer-tags (zonder -acc) op main.


### Tabellen downloaden


### Query's updaten






## Documentatie
De documentatie staat onder docs. Daarbij geldt: het vastgestelde ReSpec-document van de actuele versie heeft altijd dezelfde statische link; zowel oudere vastgestelde versies als de versie in ontwikkeling staan in het mapje van het actuele document onder "ontwikkeling" ofwel in "archief". Voor reviewversies is een eigen folder beschikbaar bij elk document.

- [ ] Archiveren oude versies van de documentatie
- [ ] Publiceren nieuwe versies van de documentatie

De documenten die op crow.docs.nl gepubliceerd moeten worden worden bijgehouden op deze plek: https://github.com/Stichting-CROW/stichting-crow.github.io/blob/main/_data/specs/verkeersborden.yaml


## Viewer
- [ ] De viewer moet geüpdatet worden naar de nieuwste versie.